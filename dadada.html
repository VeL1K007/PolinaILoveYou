<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∞—à –î–µ–Ω—å –†–æ–∂–¥–µ–Ω–∏—è üéÇ‚ù§Ô∏è</title>
    <style>
        body {
            background: linear-gradient(135deg, #fff5f8 0%, #ffe8ed 50%, #ffd6e1 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            text-align: center;
            padding: 20px;
            user-select: none;
            overflow-x: hidden;
            min-height: 100vh;
            margin: 0;
            box-sizing: border-box;
        }

        #click-counter {
            font-size: 24px;
            color: #d81b60;
            font-weight: bold;
            margin: 20px auto;
            background: white;
            padding: 15px 25px;
            border-radius: 25px;
            border: 3px solid #ff69b4;
            display: inline-block;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        #heart {
            font-size: 120px;
            color: #e91e63;
            cursor: pointer;
            margin: 20px;
            transition: transform 0.2s ease;
            animation: pulse 2s infinite;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            outline: none;
            transform-origin: center;
        }

        /* Enhanced click animation for heart */
        #heart.clicked {
            animation: clickPulse 0.4s ease-out, pulse 2s infinite 0.4s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes clickPulse {
            0% { 
                transform: scale(1); 
                filter: brightness(1) drop-shadow(0 0 10px rgba(233, 30, 99, 0.3));
            }
            25% { 
                transform: scale(1.3); 
                filter: brightness(1.2) drop-shadow(0 0 20px rgba(233, 30, 99, 0.6));
            }
            50% { 
                transform: scale(0.9); 
                filter: brightness(1.1) drop-shadow(0 0 15px rgba(233, 30, 99, 0.5));
            }
            100% { 
                transform: scale(1); 
                filter: brightness(1) drop-shadow(0 0 10px rgba(233, 30, 99, 0.3));
            }
        }

        #message {
            font-size: 22px;
            color: #ad1457;
            margin: 20px;
            min-height: 40px;
            font-weight: 500;
        }

        #shared-birthday {
            font-size: 24px;
            font-weight: 600;
            color: #d81b60;
            margin: 20px auto;
            display: none;
            max-width: 90%;
            word-wrap: break-word;
            overflow: hidden;
        }

        #timer {
            font-size: 18px;
            color: #880e4f;
            font-weight: 500;
            margin: 10px auto;
            display: none;
            max-width: 90%;
            word-wrap: break-word;
        }

        #letter-container {
            margin-top: 40px;
            position: relative;
            display: none;
        }

        #emoji-envelope {
            font-size: 90px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        #emoji-envelope:hover {
            transform: scale(1.1);
        }

        #sliding-letter {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translate(-50%, 0);
            width: 90%;
            max-width: 250px;
            overflow: hidden;
            height: 0;
            transition: height 1s ease;
        }

        .letter-paper {
            background: #fffafc;
            border: 2px solid #e91e63;
            border-radius: 10px;
            padding: 20px;
            font-size: 18px;
            color: #6a1b9a;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .heart-fall {
            position: fixed;
            font-size: 28px;
            color: #ff4081;
            pointer-events: none;
            animation: fall 3s linear forwards;
        }

        @keyframes fall {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(600px) scale(0.5);
                opacity: 0;
            }
        }

        .kitten {
            position: fixed;
            font-size: 40px;
            z-index: 10;
            pointer-events: none;
            animation: moveKitten 15s linear infinite;
        }

        .kitten-message {
            position: absolute;
            background: #fff;
            border: 2px solid #ff69b4;
            border-radius: 20px;
            padding: 8px 12px;
            font-size: 14px;
            color: #d81b60;
            font-weight: 600;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            animation: showMessage 4s ease-in-out;
        }

        @keyframes moveKitten {
            0% { transform: translateX(0px) translateY(0px); }
            25% { transform: translateX(calc(100vw / 4)) translateY(-50px); }
            50% { transform: translateX(calc(100vw / 2)) translateY(0px); }
            75% { transform: translateX(calc(100vw * 3 / 4)) translateY(-30px); }
            100% { transform: translateX(calc(100vw - 60px)) translateY(0px); }
        }

        @keyframes showMessage {
            0%, 10% { opacity: 0; transform: translateX(-50%) translateY(10px); }
            15%, 85% { opacity: 1; transform: translateX(-50%) translateY(0px); }
            90%, 100% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
        }

        #fireworks-canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            width: 100vw;
            height: 100vh;
            z-index: 0;
        }

        /* –†–∞—Å—Ç–µ–Ω–∏—è –ø–æ –∫—Ä–∞—è–º —ç–∫—Ä–∞–Ω–∞ */
        .plant {
            position: fixed;
            font-size: 30px;
            pointer-events: none;
            z-index: 5;
            opacity: 0;
            animation: growPlant 2s ease-in-out forwards;
        }

        .plant-left {
            left: 10px;
        }

        .plant-right {
            right: 10px;
        }

        .plant-top {
            top: 10px;
        }

        .plant-bottom {
            bottom: 10px;
        }

        @keyframes growPlant {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-20deg);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.1) rotate(5deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            #click-counter {
                font-size: 20px;
                padding: 12px 20px;
            }
            
            #heart {
                font-size: 80px;
            }
            
            #message {
                font-size: 18px;
                max-width: 95%;
                margin: 15px auto;
            }
            
            #shared-birthday {
                font-size: 20px;
                max-width: 95%;
            }
            
            #timer {
                font-size: 16px;
                max-width: 95%;
            }
            
            .kitten {
                font-size: 30px;
            }
            
            .kitten-message {
                font-size: 12px;
                padding: 6px 10px;
            }

            .plant {
                font-size: 25px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            #click-counter {
                font-size: 18px;
                padding: 10px 15px;
            }
            
            #heart {
                font-size: 70px;
            }
            
            #message {
                font-size: 16px;
                max-width: 98%;
            }
            
            #shared-birthday {
                font-size: 18px;
                max-width: 98%;
            }
            
            #timer {
                font-size: 14px;
                max-width: 98%;
            }

            .plant {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div id="click-counter">–ö–ª–∏–∫–æ–≤: 0 ‚ù§Ô∏è</div>
    
    <div id="heart">‚ù§Ô∏è</div>
    
    <div id="message">–ù–∞–∂–º–∏ –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–æ üòâ</div>
    
    <div id="shared-birthday"></div>
    
    <div id="timer"></div>
    
    <div id="letter-container">
        <div id="emoji-envelope">üì©</div>
        <div id="sliding-letter">
            <div class="letter-paper">
                –¢—ã –º–æ—ë –≥–ª–∞–≤–Ω–æ–µ —á—É–¥–æ —ç—Ç–æ–≥–æ –¥–Ω—è.<br>
                –Ø —Å—á–∞—Å—Ç–ª–∏–≤, —á—Ç–æ –º—ã —Ä–æ–¥–∏–ª–∏—Å—å –≤ –æ–¥–∏–Ω –¥–µ–Ω—å üíå
            </div>
        </div>
    </div>

    <canvas id="fireworks-canvas"></canvas>

    <script>
        let heartClickCount = 0;
        let sceneStarted = false;
        let fireworksStarted = false;
        let birthdayTyped = false;
        let kittensStarted = false;
        let continuousRainStarted = false;

        const heart = document.getElementById('heart');
        const message = document.getElementById('message');
        const timer = document.getElementById('timer');
        const birthday = document.getElementById('shared-birthday');
        const letter = document.getElementById('letter-container');
        const emojiEnvelope = document.getElementById('emoji-envelope');
        const slidingLetter = document.getElementById('sliding-letter');
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');

        // Audio context for click sounds
        let audioContext;
        let isAudioInitialized = false;

        // Initialize audio context (requires user interaction)
        function initAudio() {
            if (!isAudioInitialized) {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    isAudioInitialized = true;
                } catch (e) {
                    console.log('Audio context not supported');
                }
            }
        }

        // Play click sound
        function playClickSound() {
            if (!audioContext) return;
            
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.1);
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (e) {
                console.log('Error playing sound:', e);
            }
        }

        // Haptic feedback function
        function triggerHapticFeedback() {
            if ('vibrate' in navigator) {
                // Different vibration patterns based on click count
                if (heartClickCount < 10) {
                    navigator.vibrate(50); // Short vibration
                } else if (heartClickCount < 20) {
                    navigator.vibrate([50, 30, 50]); // Double pulse
                } else if (heartClickCount < 30) {
                    navigator.vibrate([100, 50, 100]); // Stronger double pulse
                } else {
                    navigator.vibrate([150, 50, 75, 50, 150]); // Complex pattern
                }
            }
        }

        // Enhanced heart click animation
        function animateHeartClick() {
            // Remove any existing click class
            heart.classList.remove('clicked');
            
            // Force reflow to restart animation
            heart.offsetHeight;
            
            // Add click class to trigger animation
            heart.classList.add('clicked');
            
            // Remove the class after animation completes
            setTimeout(() => {
                heart.classList.remove('clicked');
            }, 400);
        }

        const clickMessages = [
            "–ü–µ—Ä–≤—ã–π –∫–ª–∏–∫! –¢—ã —Ç–∞–∫–∞—è –º–∏–ª–∞—è üíï",
            "–î–≤–∞ –∫–ª–∏–∫–∞! –ú–æ—ë —Å–µ—Ä–¥—Ü–µ –±—å—ë—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ üíì",
            "–¢—Ä–∏ –∫–ª–∏–∫–∞! –¢—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å –º–µ–Ω—è —É–ª—ã–±–∞—Ç—å—Å—è üòä",
            "–ß–µ—Ç—ã—Ä–µ –∫–ª–∏–∫–∞! –ö–∞–∂–¥—ã–π –∫–ª–∏–∫ ‚Äî –∫–∞–∫ –ø–æ—Ü–µ–ª—É–π üíã",
            "–ü—è—Ç—å –∫–ª–∏–∫–æ–≤! –¢—ã –º–æ—è —Ä–∞–¥–æ—Å—Ç—å üåà",
            "–®–µ—Å—Ç—å –∫–ª–∏–∫–æ–≤! –õ—é–±–ª—é —Ç–≤–æ–∏ –≥–ª–∞–∑–∫–∏ üëÄ",
            "–°–µ–º—å –∫–ª–∏–∫–æ–≤! –°—á–∞—Å—Ç–ª–∏–≤–æ–µ —á–∏—Å–ª–æ –¥–ª—è –Ω–∞—Å üçÄ",
            "–í–æ—Å–µ–º—å –∫–ª–∏–∫–æ–≤! –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å –º–æ–µ–π –ª—é–±–≤–∏ ‚àû",
            "–î–µ–≤—è—Ç—å –∫–ª–∏–∫–æ–≤! –ü–æ—á—Ç–∏ –¥–µ—Å—è—Ç–∫–∞! üéØ",
            "–î–µ—Å—è—Ç—å –∫–ª–∏–∫–æ–≤! –¢—ã –ø—Ä–æ—Å—Ç–æ –∏–¥–µ–∞–ª—å–Ω–∞! ‚≠ê",
            "–û–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—å! –ú–æ—è –ø—É—Å—è —Ç–∞–∫–∞—è —É–ø–æ—Ä–Ω–∞—è üòò",
            "–î–≤–µ–Ω–∞–¥—Ü–∞—Ç—å! –ú–æ—è –∂–æ–ø–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è üçë",
            "–¢—Ä–∏–Ω–∞–¥—Ü–∞—Ç—å! –ü–∏–∑–¥—é—á–∫–∞ –º–æ—è –ª—é–±–∏–º–∞—è üíñ",
            "–ß–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—å! –ö–æ–∑–∞ –º–æ—è —Å–ª–∞–¥–∫–∞—è üêê",
            "–ü—è—Ç–Ω–∞–¥—Ü–∞—Ç—å! –ú–æ—è –±—É–ª–æ—á–∫–∞ –ø—É—à–∏—Å—Ç–∞—è ü•ê",
            "–®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—å! –ü–æ–ø–∫–∞ –º–æ—è —Ö–æ—Ä–æ—à–µ–Ω—å–∫–∞—è üç∞",
            "–°–µ–º–Ω–∞–¥—Ü–∞—Ç—å! –ó–∞–π–∫–∞ –º–æ—è –ø—Ä—ã–≥—É—á–∞—è üê∞",
            "–í–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å! –ö—Ä–æ—à–∫–∞ –º–æ—è –º–∞–ª–µ–Ω—å–∫–∞—è ‚ú®",
            "–î–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—å! –ö–∏—Å–∫–∞ –º–æ—è –º—É—Ä–ª—ã—á—É—â–∞—è üê±",
            "–î–≤–∞–¥—Ü–∞—Ç—å! –ú–∞–ª—ã—à–∫–∞ –º–æ—è —Å–ª–∞–¥–µ–Ω—å–∫–∞—è üç≠",
            "21! –°–æ–ª–Ω—ã—à–∫–æ –º–æ—ë —è—Ä–∫–æ–µ ‚òÄÔ∏è",
            "22! –ó–≤—ë–∑–¥–æ—á–∫–∞ –º–æ—è —Å–∏—è—é—â–∞—è ‚≠ê",
            "23! –õ–∞–ø–æ—á–∫–∞ –º–æ—è –Ω–µ–∂–Ω–∞—è üêæ",
            "24! –Ø–≥–æ–¥–∫–∞ –º–æ—è —Å–æ—á–Ω–∞—è üçì",
            "25! –ö–æ–Ω—Ñ–µ—Ç–∫–∞ –º–æ—è —Å–ª–∞–¥–∫–∞—è üç¨",
            "26! –¶–≤–µ—Ç–æ—á–µ–∫ –º–æ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π üå∏",
            "27! –ü—Ä–∏–Ω—Ü–µ—Å—Å–∞ –º–æ—è –∫–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è üëë",
            "28! –ë—É—Å–∏–Ω–∫–∞ –º–æ—è –±–ª–µ—Å—Ç—è—â–∞—è üíé",
            "29! –ü—ë—Ä—ã—à–∫–æ –º–æ—ë –ª—ë–≥–∫–æ–µ ü™∂",
            "30! –ú–∞—Ä–º–µ–ª–∞–¥–∫–∞ –º–æ—è –≤–∫—É—Å–Ω–∞—è üçØ",
            "31! –ë–∞–±–æ—á–∫–∞ –º–æ—è –ø–æ—Ä—Ö–∞—é—â–∞—è ü¶ã",
            "32! –°–Ω–µ–∂–∏–Ω–∫–∞ –º–æ—è —É–Ω–∏–∫–∞–ª—å–Ω–∞—è ‚ùÑÔ∏è",
            "33! –ò—Å–∫–æ—Ä–∫–∞ –º–æ—è –≤–µ—Å—ë–ª–∞—è ‚ú®",
            "34! –ö–∞–ø–µ–ª—å–∫–∞ –º–æ—è —á–∏—Å—Ç–∞—è üíß",
            "35! –†—ã–±–∫–∞ –º–æ—è –∑–æ–ª–æ—Ç–∞—è üê†",
            "36! –ü—Ç–∏—á–∫–∞ –º–æ—è –ø–µ–≤—É—á–∞—è üê¶",
            "37! –ú—ã—à–∫–∞ –º–æ—è —à—É—Å—Ç—Ä–µ–Ω—å–∫–∞—è üê≠",
            "38! –ö–æ—Ç—ë–Ω–æ–∫ –º–æ–π –∏–≥—Ä–∏–≤—ã–π üê±",
            "39! –©–µ–Ω–æ–∫ –º–æ–π –≤–µ—Ä–Ω—ã–π üê∂",
            "40! –ú–µ–¥–≤–µ–∂–æ–Ω–æ–∫ –º–æ–π –ø—É—à–∏—Å—Ç—ã–π üêª",
            "41! –õ—å–≤—ë–Ω–æ–∫ –º–æ–π —Å–º–µ–ª—ã–π ü¶Å",
            "42! –°–ª–æ–Ω—ë–Ω–æ–∫ –º–æ–π –¥–æ–±—Ä—ã–π üêò",
            "43! –ñ–∏—Ä–∞—Ñ—ë–Ω–æ–∫ –º–æ–π –≤—ã—Å–æ–∫–∏–π ü¶í",
            "44! –ü–∞–Ω–¥–æ—á–∫–∞ –º–æ—è –º–∏–ª–∞—è üêº",
            "45! –ö–æ–∞–ª–∞ –º–æ—è —Å–æ–Ω–Ω–∞—è üê®",
            "46! –ö–µ–Ω–≥—É—Ä—ë–Ω–æ–∫ –º–æ–π –ø—Ä—ã–≥—É—á–∏–π ü¶ò",
            "47! –ü–∏–Ω–≥–≤–∏–Ω—ë–Ω–æ–∫ –º–æ–π –∑–∞–±–∞–≤–Ω—ã–π üêß",
            "48! –§–ª–∞–º–∏–Ω–≥–æ –º–æ—ë —Ä–æ–∑–æ–≤–æ–µ ü¶©",
            "49! –ï–¥–∏–Ω–æ—Ä–æ–≥ –º–æ–π –≤–æ–ª—à–µ–±–Ω—ã–π ü¶Ñ",
            "50! –ü–æ–ª–æ–≤–∏–Ω–∞ —Å–æ—Ç–Ω–∏! –¢—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è! üéâ",
            "51! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–∞–∑–¥–Ω–∏–∫! üéä",
            "52! –ö–∞–∂–¥—ã–π –∫–ª–∏–∫ –¥–æ—Ä–æ–∂–µ –∑–æ–ª–æ—Ç–∞ üí∞",
            "53! –¢—ã –º–æ—ë —Å–æ–∫—Ä–æ–≤–∏—â–µ üíé",
            "54! –î—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç—å –º–æ—è üíç",
            "55! –ñ–µ–º—á—É–∂–∏–Ω–∫–∞ –º–æ—è ü¶™",
            "56! –ê–ª–º–∞–∑–∏–∫ –º–æ–π —Å–≤–µ—Ä–∫–∞—é—â–∏–π üíé",
            "57! –ò–∑—É–º—Ä—É–¥ –º–æ–π –∑–µ–ª—ë–Ω—ã–π üíö",
            "58! –†—É–±–∏–Ω –º–æ–π –∫—Ä–∞—Å–Ω—ã–π ‚ù§Ô∏è",
            "59! –°–∞–ø—Ñ–∏—Ä –º–æ–π —Å–∏–Ω–∏–π üíô",
            "60! –¶–µ–ª–∞—è –º–∏–Ω—É—Ç–∞ –∫–ª–∏–∫–æ–≤! ‚è∞",
            "61! –ü—Ä–æ–¥–æ–ª–∂–∞–π, –º–æ—è –ª—é–±–∏–º–∞—è! üíï",
            "62! –ö–∞–∂–¥—ã–π –∫–ª–∏–∫ ‚Äî —ç—Ç–æ '–ª—é–±–ª—é' üíó",
            "63! –¢—ã —Ç–∞–∫–∞—è –Ω–∞—Å—Ç–æ–π—á–∏–≤–∞—è! üí™",
            "64! –°–∏–ª–∞ –ª—é–±–≤–∏ –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞! üî•",
            "65! –ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –∫–ª–∏–∫–æ–≤! üë¥",
            "66! –ß–∏—Å–ª–æ –¥—å—è–≤–æ–ª–∞... –Ω–æ —Ç—ã –∞–Ω–≥–µ–ª! üòá",
            "67! –ú–∞–≥–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ –Ω–∞—à–µ–π –ª—é–±–≤–∏ ‚ú®",
            "68! –ü–æ—á—Ç–∏ 70! –ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è! üèÉ‚Äç‚ôÄÔ∏è",
            "69! –ö—Ä–∞—Å–∏–≤–æ–µ —á–∏—Å–ª–æ... –∫–∞–∫ —Ç—ã! üòç",
            "70! –°–µ–º—å –¥–µ—Å—è—Ç–∫–æ–≤ —Å—á–∞—Å—Ç—å—è! üçÄ",
            "71! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –º–∞—Ä–∞—Ñ–æ–Ω! üèÉ‚Äç‚ôÄÔ∏è",
            "72! –ì—Ä–∞–¥—É—Å–æ–≤ –≤ –∫–∏–ø—è—â–µ–π –ª—é–±–≤–∏! üî•",
            "73! –ü—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ, –∫–∞–∫ –Ω–∞—à–∞ –ª—é–±–æ–≤—å! üíï",
            "74! –¢—Ä–∏ —á–µ—Ç–≤–µ—Ä—Ç–∏ —Å–æ—Ç–Ω–∏! üìä",
            "75! –¢—Ä–∏ —á–µ—Ç–≤–µ—Ä—Ç–∏ –ø—É—Ç–∏ –∫ —Å–æ—Ç–Ω–µ! üéØ",
            "76! –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –≥–æ–¥ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏! üá∫üá∏",
            "77! –°—á–∞—Å—Ç–ª–∏–≤—ã–µ —Å–µ–º—ë—Ä–∫–∏! üçÄüçÄ",
            "78! –û–±–æ—Ä–æ—Ç—ã –ª—é–±–∏–º–æ–π –ø–ª–∞—Å—Ç–∏–Ω–∫–∏! üéµ",
            "79! –ü–æ—á—Ç–∏ –≤–æ—Å–µ–º—å–¥–µ—Å—è—Ç! üìà",
            "80! –í–æ—Å–µ–º—å –¥–µ—Å—è—Ç–∫–æ–≤ –Ω–µ–∂–Ω–æ—Å—Ç–∏! üíù",
            "81! 9 –≤ –∫–≤–∞–¥—Ä–∞—Ç–µ! –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ª—é–±–≤–∏! üìê",
            "82! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å—á–∏—Ç–∞—Ç—å! üî¢",
            "83! –ü—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ –Ω–∞—à–µ–≥–æ —Å—á–∞—Å—Ç—å—è! ‚ú®",
            "84! –î—é–∂–∏–Ω–∞ —Å–µ–º—ë—Ä–æ–∫! üé≤",
            "85! –ü–æ—á—Ç–∏ –¥–µ–≤—è–Ω–æ—Å—Ç–æ! üöÄ",
            "86! –ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è Windows! üíª",
            "87! –°–∫–æ—Ä–æ –¥–µ–≤—è–Ω–æ—Å—Ç–æ! üìä",
            "88! –°—á–∞—Å—Ç–ª–∏–≤–æ–µ –∫–∏—Ç–∞–π—Å–∫–æ–µ —á–∏—Å–ª–æ! üçÄ",
            "89! –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–µ—Ä–µ–¥ –¥–µ–≤—è–Ω–æ—Å—Ç–æ–º! üèÅ",
            "90! –î–µ–≤—è—Ç—å –¥–µ—Å—è—Ç–∫–æ–≤! –ü–æ—á—Ç–∏ —Å–æ—Ç–Ω—è! üéØ",
            "91! –ë–æ–ª—å—à–µ –¥–µ–≤—è–Ω–æ—Å—Ç–∞! üìà",
            "92! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∫ —Å–æ—Ç–Ω–µ! üí™",
            "93! –ï—â—ë —á—É—Ç—å-—á—É—Ç—å! üé™",
            "94! –ü–æ—á—Ç–∏ —Ç–∞–º! üèÉ‚Äç‚ôÄÔ∏è",
            "95! –ü—è—Ç—å –¥–æ —Å–æ—Ç–Ω–∏! üñêÔ∏è",
            "96! –ß–µ—Ç—ã—Ä–µ –¥–æ —Å–æ—Ç–Ω–∏! 4Ô∏è‚É£",
            "97! –¢—Ä–∏ –¥–æ —Å–æ—Ç–Ω–∏! 3Ô∏è‚É£",
            "98! –î–≤–∞ –¥–æ —Å–æ—Ç–Ω–∏! 2Ô∏è‚É£",
            "99! –û–¥–∏–Ω –¥–æ —Å–æ—Ç–Ω–∏! 1Ô∏è‚É£",
            "100! –°–û–¢–ù–Ø! –¢–´ –ù–ï–í–ï–†–û–Ø–¢–ù–ê–Ø! üéâüéäüéà"
        ];

        // Enhanced heart click handler with all feedback
        heart.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Initialize audio on first click
            if (!isAudioInitialized) {
                initAudio();
            }
            
            heartClickCount++;
            
            // Update counter
            document.getElementById('click-counter').textContent = `–ö–ª–∏–∫–æ–≤: ${heartClickCount} ‚ù§Ô∏è`;
            
            // Trigger all feedback types
            triggerHapticFeedback();
            animateHeartClick();
            playClickSound();
            
            // Update message
            if (heartClickCount <= clickMessages.length) {
                message.textContent = clickMessages[heartClickCount - 1];
            } else {
                const extraMessages = [
                    `${heartClickCount}! –¢—ã –ø—Ä–æ—Å—Ç–æ –∫–æ—Å–º–æ—Å! üåå`,
                    `${heartClickCount}! –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ª—é–±–æ–≤—å! ‚àû`,
                    `${heartClickCount}! –ú–æ–π –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥! üèÜ`,
                    `${heartClickCount}! –ù–∏–∫—Ç–æ –Ω–µ –∫–ª–∏–∫–∞–µ—Ç –ª—É—á—à–µ! üëë`,
                    `${heartClickCount}! –¢—ã –º–æ—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è! üåç`
                ];
                message.textContent = extraMessages[heartClickCount % extraMessages.length];
            }
            
            // Create falling hearts
            createFallingHeart();
            
            // Start scene progression
            if (heartClickCount === 10 && !sceneStarted) {
                startScene();
                sceneStarted = true;
            }
            
            // Start fireworks
            if (heartClickCount === 30 && !fireworksStarted) {
                startFireworks();
                fireworksStarted = true;
            }
            
            // Start kittens
            if (heartClickCount === 50 && !kittensStarted) {
                startKittens();
                kittensStarted = true;
            }
            
            // Start continuous heart rain
            if (heartClickCount === 70 && !continuousRainStarted) {
                startContinuousHeartRain();
                continuousRainStarted = true;
            }
            
            // Show plants
            if (heartClickCount === 20) {
                showPlants();
            }
            
            // Show letter
            if (heartClickCount === 100) {
                showLetter();
            }
        });

        // Rest of the original functions...
        function createFallingHeart() {
            const fallingHeart = document.createElement('div');
            fallingHeart.className = 'heart-fall';
            fallingHeart.textContent = '‚ù§Ô∏è';
            fallingHeart.style.left = Math.random() * window.innerWidth + 'px';
            fallingHeart.style.top = '0px';
            document.body.appendChild(fallingHeart);
            
            setTimeout(() => {
                fallingHeart.remove();
            }, 3000);
        }

        function startScene() {
            birthday.style.display = 'block';
            timer.style.display = 'block';
            
            if (!birthdayTyped) {
                typeText(birthday, "üéÇ –ù–∞—à –æ–±—â–∏–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è! üéÇ", 50);
                birthdayTyped = true;
            }
            
            updateTimer();
            setInterval(updateTimer, 1000);
        }

        function typeText(element, text, speed) {
            element.textContent = '';
            let i = 0;
            const interval = setInterval(() => {
                element.textContent += text[i];
                i++;
                if (i >= text.length) {
                    clearInterval(interval);
                }
            }, speed);
        }

        function updateTimer() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            timer.textContent = `‚è∞ ${hours}:${minutes}:${seconds} - –≤—Ä–µ–º—è –Ω–∞—à–µ–≥–æ —Å—á–∞—Å—Ç—å—è`;
        }

        // Fireworks system
        let fireworks = [];
        let animationId;

        function startFireworks() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            function createFirework() {
                const firework = {
                    x: Math.random() * canvas.width,
                    y: canvas.height,
                    targetY: Math.random() * canvas.height * 0.5,
                    particles: [],
                    exploded: false,
                    vy: -Math.random() * 8 - 12,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`
                };
                
                fireworks.push(firework);
            }
            
            function updateFireworks() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                for (let i = fireworks.length - 1; i >= 0; i--) {
                    const firework = fireworks[i];
                    
                    if (!firework.exploded) {
                        firework.y += firework.vy;
                        firework.vy += 0.3;
                        
                        ctx.beginPath();
                        ctx.arc(firework.x, firework.y, 3, 0, Math.PI * 2);
                        ctx.fillStyle = firework.color;
                        ctx.fill();
                        
                        if (firework.y <= firework.targetY) {
                            firework.exploded = true;
                            for (let j = 0; j < 20; j++) {
                                firework.particles.push({
                                    x: firework.x,
                                    y: firework.y,
                                    vx: (Math.random() - 0.5) * 10,
                                    vy: (Math.random() - 0.5) * 10,
                                    life: 1,
                                    decay: Math.random() * 0.02 + 0.01
                                });
                            }
                        }
                    } else {
                        for (let j = firework.particles.length - 1; j >= 0; j--) {
                            const particle = firework.particles[j];
                            particle.x += particle.vx;
                            particle.y += particle.vy;
                            particle.vy += 0.1;
                            particle.life -= particle.decay;
                            
                            ctx.beginPath();
                            ctx.arc(particle.x, particle.y, 2, 0, Math.PI * 2);
                            ctx.fillStyle = firework.color;
                            ctx.globalAlpha = particle.life;
                            ctx.fill();
                            ctx.globalAlpha = 1;
                            
                            if (particle.life <= 0) {
                                firework.particles.splice(j, 1);
                            }
                        }
                        
                        if (firework.particles.length === 0) {
                            fireworks.splice(i, 1);
                        }
                    }
                }
                
                if (Math.random() < 0.1) {
                    createFirework();
                }
                
                animationId = requestAnimationFrame(updateFireworks);
            }
            
            updateFireworks();
        }

        function startKittens() {
            const kittenMessages = [
                "–ú—è—É! –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! üéâ",
                "–ú—É—Ä-–º—É—Ä! –õ—é–±–ª—é! üíï",
                "–ö–æ—Ç–∏–∫ –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ—Ç! üéÇ",
                "–ú—è—É-–º—è—É! –° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéà",
                "–ö–æ—Ç–µ–π–∫–∞ –∂–µ–ª–∞–µ—Ç —Å—á–∞—Å—Ç—å—è! ‚ú®"
            ];

            function createKitten() {
                const kitten = document.createElement('div');
                kitten.className = 'kitten';
                kitten.textContent = 'üê±';
                kitten.style.bottom = Math.random() * 200 + 50 + 'px';
                
                const message = document.createElement('div');
                message.className = 'kitten-message';
                message.textContent = kittenMessages[Math.floor(Math.random() * kittenMessages.length)];
                kitten.appendChild(message);
                
                document.body.appendChild(kitten);
                
                setTimeout(() => {
                    kitten.remove();
                }, 15000);
            }
            
            createKitten();
            setInterval(createKitten, 8000);
        }

        function startContinuousHeartRain() {
            setInterval(createFallingHeart, 500);
        }

        function showPlants() {
            const plantEmojis = ['üå∏', 'üå∫', 'üåª', 'üå∑', 'üåπ', 'üåº', 'üèµÔ∏è', 'üíê'];
            const positions = [
                { class: 'plant-left plant-top' },
                { class: 'plant-left plant-bottom' },
                { class: 'plant-right plant-top' },
                { class: 'plant-right plant-bottom' }
            ];
            
            positions.forEach((pos, index) => {
                setTimeout(() => {
                    const plant = document.createElement('div');
                    plant.className = `plant ${pos.class}`;
                    plant.textContent = plantEmojis[Math.floor(Math.random() * plantEmojis.length)];
                    document.body.appendChild(plant);
                }, index * 300);
            });
        }

        function showLetter() {
            letter.style.display = 'block';
        }

        emojiEnvelope.addEventListener('click', function() {
            if (slidingLetter.style.height === '0px' || slidingLetter.style.height === '') {
                slidingLetter.style.height = '200px';
            } else {
                slidingLetter.style.height = '0px';
            }
        });

        // Handle window resize for canvas
        window.addEventListener('resize', function() {
            if (fireworksStarted) {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
        });

        // Prevent context menu on heart (for mobile)
        heart.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // Add touch event handling for better mobile experience
        heart.addEventListener('touchstart', function(e) {
            e.preventDefault();
        });

        heart.addEventListener('touchend', function(e) {
            e.preventDefault();
            // The click event will still fire, so we don't need to duplicate logic
        });
    </script>
</body>
</html>
